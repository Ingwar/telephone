{% extends "base.html" %}
{% load static %}

{% block styling %}
  <link href="{% static 'grunt/css/inspect.css' %}" rel="stylesheet">
{% endblock styling %}

{% block header %}
  <h1>{{ game }}</h1>
{% endblock header %}

{% block body %}
<div class="chains">
</div>
{% endblock body %}

{% block footer %}
  <audio src=""></audio>
{% endblock footer %}

{% block javascript %}
  <script src="{% static 'd3/d3.v3.min.js' %}" type="text/JavaScript"></script>
  <script src="{% static 'd3/colorbrewer.js' %}" type="text/JavaScript"></script>
  <script src="{% static 'grunt/js/ajax.js' %}" type="text/javascript"></script>
  <script src="{% static 'grunt/js/inspect.js' %}" type="text/JavaScript"></script>
  <script>
// temp global to make data accessible in js console
var rawData,
    csrf_token = "{{ csrf_token }}";

// give the D3 function the only thing it needs from Django
d3.json("{% url 'message_data' pk=game.pk %}", visualize);
  </script>
{% endblock javascript %}
